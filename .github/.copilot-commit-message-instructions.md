# GitHub Copilot Commit Message Instructions

## Overview

This project follows the **Conventional Commits** specification v1.0.0. All commit messages must adhere to strict formatting rules enforced by commitlint with `@commitlint/config-conventional`. Generate concise, meaningful commit messages that clearly communicate the intent and impact of changes.

## Required Format

```text
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

## Commit Types

Use these **exact** types (case-sensitive):

### Primary Types

- **feat**: A new feature for the user (correlates with MINOR in semantic versioning)
- **fix**: A bug fix for the user (correlates with PATCH in semantic versioning)

### Additional Types

- **build**: Changes affecting build system or external dependencies (webpack, npm, etc.)
- **chore**: Maintenance tasks, dependency updates, or tooling changes
- **ci**: Changes to CI configuration files and scripts (GitHub Actions, etc.)
- **docs**: Documentation-only changes
- **perf**: Performance improvements
- **refactor**: Code changes that neither fix bugs nor add features
- **revert**: Reverts a previous commit
- **style**: Code style changes (formatting, missing semicolons, etc.)
- **test**: Adding missing tests or correcting existing tests

## Scope Guidelines

- Use **lowercase** scopes in parentheses: `feat(api):`, `fix(auth):`, `docs(readme):`
- Common scopes for this project:
  - `api` - API-related changes
  - `auth` - Authentication/authorization
  - `ui` - User interface components
  - `router` - Routing configuration
  - `i18n` - Internationalization
  - `tests` - Test-related changes
  - `deps` - Dependency updates
  - `config` - Configuration changes

## Description Rules

- Use **lowercase** and **imperative mood** (e.g., "add", "fix", "update", not "added", "fixes", "updating")
- **No period** at the end
- Maximum **50 characters**
- Be specific and concise
- Start with a verb when possible

## Body Guidelines (Optional)

- Use when changes require explanation beyond the description
- Separate from description with **one blank line**
- Wrap at **72 characters** per line
- Explain **what** and **why**, not how
- Use **present tense**

## Footer Guidelines (Optional)

- Reference issues: `Closes #123`, `Fixes #456`, `Refs #789`
- Breaking changes: `BREAKING CHANGE: description`
- Reviewed by: `Reviewed-by: Name`

## Breaking Changes

### Method 1: Exclamation Mark

```text
feat!: send email notifications to users
chore(api)!: drop support for Node 16
```

### Method 2: Footer

```text
feat: allow config object to extend other configs

BREAKING CHANGE: `extends` key now used for extending config files
```

## Examples

### Good Examples

```text
feat(auth): add OAuth2 login support
fix(api): resolve race condition in request handling
docs: update installation instructions
chore(deps): update react to v18.2.0
test(auth): add unit tests for login validation
refactor(ui): extract common button component
perf(router): lazy load route components
ci: add automated testing for pull requests
```

### Complex Example with Body and Footer

```text
fix(api): prevent racing of requests

Introduce request ID and reference to latest request. Dismiss
incoming responses other than from latest request.

Remove timeouts which were used to mitigate racing issue but are
obsolete now.

Fixes #234
Reviewed-by: John Doe
```

### Breaking Change Example

```text
feat(api)!: restructure user authentication endpoints

BREAKING CHANGE: authentication endpoints moved from /auth/* to /api/v2/auth/*.
Update client code to use new endpoint structure.
```

## Branch Validation Context

This project validates branch names with pattern:

```regex
^((build|chore|ci|docs|feat|fix|perf|refactor|revert|style|test)(\/[a-zA-Z0-9_.-]+){1,2}|changeset-release/master)$
```

Align commit types with branch prefixes when possible.

## Pre-commit Hooks

- `validate-branch-name`: Validates branch naming convention
- `commitlint`: Validates commit message format
- `lint-staged`: Runs linters on staged files

## Anti-patterns to Avoid

❌ `Fix bug` (too vague)
❌ `Updated files` (not descriptive)
❌ `feat: Added new feature.` (period at end, past tense)
❌ `FIX: problem with auth` (wrong case)
❌ `feature(AUTH): new login` (wrong type, wrong case scope)

## Technology Context

This is a **React + TypeScript + Vite** project with:

- React Query for data fetching
- React Router for navigation
- Internationalization (react-intl)
- Testing (Vitest, Playwright E2E)
- Modern tooling (ESLint, Prettier, Husky)

Consider these contexts when crafting commit messages to be more specific about the areas of change.
